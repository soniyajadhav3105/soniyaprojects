<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</head>

<body>

    <h1>
        <%= title %>
    </h1>
    <form action="/update" method="post" style="margin-left: 22px; border: 2px solid;width: 1231px;">

        <div>
            <div class="form-group">
                <label>EMP ID <span class="required">*</span></label>
                <input type="text" name="Empid" id="Empid" value="<%= emp.Empid %>" class="form-control1"
                    autocomplete="off">
            </div>


        </div>
        <div>
            <div class="form-group">
                <label>FIRST NAME <span class="required">*</span></label>
                <input type="text" name="First_name" id="First_name" value="<%= emp.First_name %>" class="form-control1"
                    autocomplete="off" MaxLength="50" required>
            </div>


        </div>
        <div>
            <div class="form-group">
                <label>MIDDLE NAME <span class="required">*</span></label>

                <input type="text" name="Middle_name" id="Middle_name" class="form-control1" autocomplete="off"
                    value="<%= emp.Middle_name %>" MaxLength="50" required>
            </div>
        </div>


        </div>
        <div>
            <div class="form-group">
                <label>LAST NAME <span class="required">*</span></label>

                <input type="text" onPaste="return false" name="Last_name" id="Last_name" class="form-control1"
                    value="<%= emp.Last_name %>" autocomplete="off" MaxLength="50" required>
            </div>


        </div>
        <div>
            <div class="form-group">
                <label>DATE OF BIRTH<span class="required">*</span></label>

                <input type="date" onPaste="return false" name="DOB" id="DOB" class="form-control1" autocomplete="off"
                    value="<%= emp.DOB %>" onchange="agedifference(event)" required>
                <span id="error" style="color: red;"></span>

            </div>

        </div>
        <div>
            <div class="form-group">
                <label>GENDER</label>
                <div class="form-control1">
                    <input type="radio" name="Gender" id="Gender" value="<%= emp.Gender %>"> MALE
                    <input type="radio" name="Gender" id="Gender" value="<%= emp.Gender %>"> FEMALE
                </div>
            </div>
            <div>
                <div class="form-group">
                    <label>SALARY STRUCTURE<span class="required">*</span></label>
                    <table class="table table-bordered" style="width:10px;margin-left: 228px;
            margin-top: -51px;">
                        <thead>
                            <tr>
                                <th>
                                    Basic
                                </th>
                                <th>
                                    Allowance </th>
                                <th>
                                    Deduction
                                </th>
                                <th>
                                    Net Salary
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input type="number" onPaste="return false" name="Basic" id="Basic"
                                        value="<%= emp.Basic %>" autocomplete="off" onchange="salarycal(event)"
                                        required>
                                </td>
                                <td>
                                    <input type="number" onPaste="return false" name="Allowanace" id="Allowanace"
                                        value="<%= emp.Allowanace %>" autocomplete="off" onchange="salarycal(event)"
                                        required>
                                </td>
                                <td>
                                    <input type="number" onPaste="return false" name="Deduction" id="Deduction"
                                        value="<%= emp.Deduction %>" autocomplete="off" onchange="salarycal(event)"
                                        required>
                                </td>
                                <td>
                                    <input type="number" onPaste="return false" name="Netsal" id="Netsal"
                                        value="<%= emp.Netsal %>" autocomplete="off" required>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>


            </div>
            <div class="formdata">
                <button type="submit" class="btn btn-primary" style="margin-top: -43px">submit</button>
                <button type="cancel" class="btn btn-primary" style="margin-top: -46px;
    margin-left: 68px;" onclick="ClearFields()">cancel</button> <br />
            </div>
    </form>
    <style>
        body {
            font-family: Tahoma, Geneva, Verdana, sans-serif;
        }

        .form-control1 {
            width: 240px;
            margin-left: 42px;
            display: inline-block;

        }

        .required {
            color: red;
        }

        label {
            display: inline-block;
            width: 184px;
            margin-left: 10px;
        }

        .formdata {
            margin-left: 273px;
            margin-top: 47px;
        }
    </style>

</body>

</html>
<script>
    function salarycal(event) {
        var basic = parseInt(document.getElementById('Basic').value)
        var allowance = parseInt(document.getElementById('Allowanace').value)
        var deduction = parseInt(document.getElementById('Deduction').value)
        var sum = (basic) + (allowance) + (deduction)
        document.getElementById("Netsal").value = sum;

    }

    function ClearFields() {

        window.location.reload();


    }

    function agedifference(event) {
        var date = document.getElementById('DOB').value
        var today = new Date();
        var birthDate = new Date(date);
        var davalue = birthDate.getDate()
        var datemonth = birthDate.getMonth()
        var dateyear = birthDate.getFullYear()

        var todayalue = today.getDate()
        var todaymonth = 1 + today.getMonth()
        var todayyear = today.getFullYear()
        var age = ""
        age = todayyear - dateyear;
        if (age < 18) {
            document.getElementById("error").innerHTML = "Not Employed Age below 18 years"

        } else {
            document.getElementById("error").innerHTML = ""

        }

    }


</script>